# Умный сервис прогноза погоды
Тестовое задания для зачисления в школу будущих CTO. **Средний уровень сложности.**

С текстом задания можно ознакомиться [здесь](https://www.notion.so/03f6716315e04acea3023766e5f2cc0e).


### 1. Проектирование сервиса

Сервис разработан в виде веб-приложения, предоставляющего пользователю интерфейс для ввода данных о местонахождении и показа метеорологических данных в выбранном городе на ближайшие **пять дней** с интервалом в **3 часа**.

#### Бэкенд

Бэкенд сервиса разработан на языке **Python** с использованием следующих фреймворков:
* Flask (1.1.2)
* SQLAlchemy

Для хранения данных стран, регионов и городов использована база данных **SQLite**.

Для получения данных о погоде используется [OpenWeather API](https://openweathermap.org/api).

#### Фронтэнд

Фронтенд сервиса разработан с использованием библиотеки **Bootstrap 4** и шаблонизатора **Jinja2**.

Интерфейс состоит из следующих страниц:
1) Страница ввода страны местонахождения. Содержит выпадающий список выбора стран.
2) Страница ввода региона местонахождения. Содержит выпадающий список выбора регионов конкретной страны.
3) Страница ввода города местонахождения. Содержит выпадающий список выбора городов конкретного региона.
4) Страница показа прогноза. Содержит данные прогноза на ближайшие пять дней с интервалом в 3 часа в виде таблицы со следующими колонками:

   * Date - дата и время прогноза
   * Temperature, Celsius - температура воздуха в градусах цельсия
   * Pressure, hPa - атмосферное давление
   * Humidity, % - влажность воздуха
   * Cloudiness, % - облачность
   * Wind speed, m/sec - скорость ветра
   * Wind direction, degrees - направление ветра
   * Description - краткое текстовое описание погоды

### 2. Демонстрация работы сервиса

### 3. Процесс работы программы
1) Пользователь открывает главную страницу сайта, на сервер отправляется GET-запрос.
2) На сервере из базы данных извлекается список всех стран, на основе которого формируется HTML-страница со списком выбора страны. Сформированная страница отправляется пользователю в ответ. 
3) Пользователь выбирает страну, нажимает кнопку перехода к выбору региона. На сервер отправляется запрос, в параметрах которого содержится идентификатор выбранной страны.
4) Из базы данных извлекается выборка регионов для переданной страны, на основе которой формируется и возвращается пользователю HTML-страница со списком выбора региона.
5) Пользователь выбирает регион, нажимает кнопку перехода к выбору города. На сервер отправляется запрос, в параметрах которого содержится идентификатор выбранного региона.
6) Из базы данных извлекается выборка городов для переданного региона, на основе которой формируется HTML-страница со списком выбора города. Сформированная страница отрпавляется пользователю в ответ.
7) Пользователь выбирает город, нажимает кнопку перехода к прогнозу погоды. На сервер отправляется запрос, в параметрах которого содержится идентификатор выбранного города.
8) На сервере по идентификатору города из базы данных извлекаются его географические координаты.
9) Формируется запрос к API, в параметрах которого указываются ключ API и координаты города.
10) На основе полученного от API ответа формируется и отправляется пользователю HTML-страница с таблицей прогноза погоды.

### 4. Запуск программы
